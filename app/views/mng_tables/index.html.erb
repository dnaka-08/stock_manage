<div class="row justify-content-end">
  <%= button_to "前月", {contraller: 'mng_tables', action: 'index'}, {method: :get, params: {date: session[:date], target: 'before'}, class: 'btn btn-info mb-2 ml-1'} %>
  <%= button_to "翌月", {contraller: 'mng_tables', action: 'index'}, {method: :get, params: {date: session[:date], target: 'after'}, class: 'btn btn-info mb-2 ml-1'} %>
</div>

<div class="row">
  <div class="table-responsive">
    <table class="table table-striped table-bordered" style="table-layout:fixed; font-size:8pt;">
      <thead>
        <tr>
          <th style="width:100px;">店舗</th>
          <th style="width:80px;">入庫／出庫</th>
          <% (Date.parse(@date_begin)..Date.parse(@date_end)).each do |date| %>
            <th style="width:60px;"><%= date.strftime('%m/%d') %></th>
          <% end %>
        </tr>
        <tbody>
          <% @mng_table.each do |rec| %>    
            <tr>
              <% @w_value %>
              <% rec.each do |key, value| %>
                <% if key == "store" and @w_value != value %>
                  <% @w_value = value %>
                  <td rowspan="4"><%= value %></td>
                <% elsif key == "store" %>
                <% else %>
                  <td><%= value %></td>
                <% end %>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </thead>
    </table>
  </div>
</div>